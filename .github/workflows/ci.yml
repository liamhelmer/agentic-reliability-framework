      - name: Run SIMPLE OSS import test
        env:
          MCP_MODE: "advisory"
          MAX_INCIDENT_HISTORY: "1000"
          GRAPH_STORAGE: "in_memory"
        run: |
          echo "ðŸ§ª Testing OSS imports WITHOUT triggering config validation..."
          
          # Clean environment first
          unset LEARNING_ENABLED 2>/dev/null || true
          
          cat > test_oss_simple.py << 'EOF'
          import os
          import sys
          
          # CRITICAL: Clean environment BEFORE any imports
          if 'LEARNING_ENABLED' in os.environ:
              del os.environ['LEARNING_ENABLED']
          
          # Set OSS environment
          os.environ.update({
              'MCP_MODE': 'advisory',
              'MAX_INCIDENT_HISTORY': '1000',
              'GRAPH_STORAGE': 'in_memory',
          })
          
          print("ðŸ”§ Environment cleaned for OSS test")
          print(f"  MCP_MODE: {os.environ.get('MCP_MODE')}")
          print(f"  MAX_INCIDENT_HISTORY: {os.environ.get('MAX_INCIDENT_HISTORY')}")
          print(f"  GRAPH_STORAGE: {os.environ.get('GRAPH_STORAGE')}")
          print(f"  LEARNING_ENABLED: {os.environ.get('LEARNING_ENABLED', 'NOT SET (good)')}")
          
          # Test 1: Import HealingIntent directly
          try:
              # Import HealingIntent module directly
              sys.path.insert(0, '.')
              from agentic_reliability_framework.arf_core.models.healing_intent import HealingIntent
              from datetime import datetime
              
              print('âœ… HealingIntent import successful')
              
              intent = HealingIntent(
                  action='restart_container',
                  component='api-service',
                  parameters={'force': True},
                  justification='High latency detected',
                  confidence=0.85,
                  incident_id='inc-001',
                  detected_at=datetime.now().timestamp()
              )
              
              print(f'âœ… HealingIntent created: {intent.intent_id}')
              print(f'  Action: {intent.action}')
              print(f'  Component: {intent.component}')
              print(f'  Confidence: {intent.confidence:.2f}')
              print(f'  Requires Enterprise: {intent.requires_enterprise}')
              
          except Exception as e:
              print(f'âŒ HealingIntent failed: {e}')
              import traceback
              traceback.print_exc()
              sys.exit(1)
          
          # Test 2: Try to import OSSMCPClient
          print("\nðŸ” Testing OSSMCPClient import...")
          try:
              # Try from simple_mcp_client first (in arf_core)
              from agentic_reliability_framework.arf_core.engine.simple_mcp_client import OSSMCPClient
              print('âœ… OSSMCPClient imported from arf_core.engine.simple_mcp_client')
              
              client = OSSMCPClient()
              print(f'âœ… OSSMCPClient created: {client.mode} mode')
              
              # Test async functionality
              import asyncio
              
              async def test_async():
                  result = await client.execute_tool({
                      'tool': 'restart_container',
                      'component': 'api-service',
                      'parameters': {'force': True},
                      'justification': 'Test',
                      'metadata': {'incident_id': 'test-001'}
                  })
                  print(f'âœ… Async test: {result["status"]}')
                  assert result['executed'] == False, "OSS must not execute"
              
              asyncio.run(test_async())
              
          except Exception as e:
              print(f'âš ï¸  OSSMCPClient from simple_mcp_client failed: {e}')
              
              # Try from engine.oss_mcp_client
              try:
                  from agentic_reliability_framework.engine.oss_mcp_client import OSSMCPClient as Client2
                  print('âœ… OSSMCPClient imported from engine.oss_mcp_client')
                  
                  client = Client2()
                  print(f'âœ… OSSMCPClient created: {client.mode} mode')
                  
              except Exception as e2:
                  print(f'âŒ Both imports failed: {e2}')
                  print('\nðŸ’¡ Check these files exist:')
                  print('   - agentic_reliability_framework/arf_core/engine/simple_mcp_client.py')
                  print('   - agentic_reliability_framework/engine/oss_mcp_client.py')
                  sys.exit(1)
          
          print('\nðŸŽ‰ OSS import test completed successfully!')
          EOF
          
          python test_oss_simple.py
